<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head th:replace="fragments :: head">

</head>
<body class="container">

<nav th:replace="fragments :: admin-nav"></nav>
<h1 th:replace="fragments :: page"></h1>

<form method="post" action="/admin/services" style="max-width:600px;" th:object="${service}">
    <div class="form-group">
        <label th:for="name">Service Name</label>
        <input class="form-control" th:field="*{name}" />
        <span th:errors="*{name}" class="error"></span>
    </div>
    <div class="form-group">
        <label th:for="description">Service Description</label>
        <textarea rows="10" cols="30" class="form-control" th:field="*{description}" />
        <span th:errors="*{description}" class="error"></span>
    </div>
    <div class="form-group">
        <label th:for="rvId">Reward Value</label>
        <select name="rvId" style="max-width: 300px;">
            <option text="" value="0"></option>
            <option th:each="value : ${rvs}" th:text="${value.value}" th:value="${value.id}"></option>
        </select>
    </div>
    <div class="form-group">
        <label th:for="price">Service Price</label>
        <input class="form-control" th:field="*{price}" />
        <span th:errors="*{price}" class="error"></span>
    </div>
    <input type="hidden" name="serviceId" th:value="${service.id}" />
    <input type="submit" value="Add Services" />
</form>
<br />
<h1>Modify Service</h1>
<form method="post" action="/admin/services-update">
    <div class="form-group">
        <label th:for="serviceId">Select a service to change</label>
        <select name="serviceId" style="max-width: 600px;">
            <option text="" value="0"></option>
            <option th:each="service : ${services}" th:text="${service.name}" th:value="${service.id}"></option>
        </select>
    </div>
    <input type="submit" value="Modify Service" />
</form>
<br />
<h1>View Services</h1>
<form method="post" action="/admin/services-delete">
    <table border="1" class="table-view">
        <thead>
        <td>ID</td>
        <td>Name</td>
        <td class="table-cell">Description</td>
        <td>Reward Value</td>
        <td>Reward Cost</td>
        <td class="table-cell">Price</td>
        </thead>
        <tr th:each="service : ${services}">
            <td><input type="checkbox" name="sId" th:value="${service.id}" th:id="${service.id}" /></td>
            <td th:text="${service.name}"></td>
            <td th:text="${service.description}"></td>
            <td th:text="${service.rewardValue.value}"></td>
            <td th:text="${service.rewardValue.cost}"></td>
            <td th:text="${#numbers.formatCurrency(service.price)}"></td>
        </tr>
    </table>
    <input type="submit" value="Delete Services" />
</form>

</body>
</html>